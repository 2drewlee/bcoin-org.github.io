<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Chain</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Chain</h1>

    




<section>

<header>
    
        <h2>Chain</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Chain"><span class="type-signature"></span>new Chain<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Represents a blockchain.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>Database name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>location</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>Database file location.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>db</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>Database backend (<code>&quot;leveldb&quot;</code> by default).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>orphanLimit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pendingLimit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>spv</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>loaded</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>db</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainDB.html">ChainDB</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>Note that Chain <code>options</code> will be passed
to the instantiated ChainDB.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>total</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>orphanLimit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>locker</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Locker.html">Locker</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>invalid</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bestHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tip</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>segwitActive</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>csvActive</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>orphan</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>Orphan map.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li>Chain#event:open</li>

    <li>Chain#event:error</li>

    <li>Chain#event:block</li>

    <li>Chain#event:competitor</li>

    <li>Chain#event:resolved</li>

    <li>Chain#event:checkpoint</li>

    <li>Chain#event:fork</li>

    <li>Chain#event:invalid</li>

    <li>Chain#event:exists</li>

    <li>Chain#event:purge</li>

    <li>Chain#event:add entry</li>

    <li>Chain#event:remove entry</li>

    <li>Chain#event:add block</li>

    <li>Chain#event:remove block</li>
</ul>












    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="_checkDeployments"><span class="type-signature">(private) </span>_checkDeployments<span class="signature">(block, prev, ancestors, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Check all deployments on a chain, ranging from p2sh to segwit.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ancestors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="ChainBlock.html">ChainBlock</a>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns
[<a href="VerifyError.html">VerifyError</a>, <a href="global.html#DeploymentState">DeploymentState</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line609">line 609</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_checkDuplicates"><span class="type-signature">(private) </span>_checkDuplicates<span class="signature">(block, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Determine whether to check block for duplicate txids in blockchain
history (BIP30). If we're on a chain that has bip34 activated, we
can skip this.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line724">line 724</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/bitcoin/bips/blob/master/bip-0030.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0030.mediawiki</a></li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id="_checkInputs"><span class="type-signature">(private) </span>_checkInputs<span class="signature">(block, prev, state, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Check block transactions for all things pertaining
to inputs. This function is important because it is
what actually fills the coins into the block. This
function will check the block reward, the sigops,
the tx values, and execute and verify the scripts (it
will attempt to do this on the worker pool). If
useCheckpoints is enabled, it will skip verification
for historical data.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#DeploymentState">DeploymentState</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line808">line 808</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="TX.html#checkInputs">TX#checkInputs</a></li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id="_findDuplicates"><span class="type-signature">(private) </span>_findDuplicates<span class="signature">(block, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Check block for duplicate txids in blockchain
history (BIP30). Note that txids are only considered
duplicate if they are not yet completely spent.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line762">line 762</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/bitcoin/bips/blob/master/bip-0030.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0030.mediawiki</a></li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id="_findFork"><span class="type-signature">(private) </span>_findFork<span class="signature">(fork, longer, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Find the block at which a fork ocurred.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fork</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>The current chain.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>longer</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>The competing chain.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, <a href="ChainBlock.html">ChainBlock</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line933">line 933</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_getInitialState"><span class="type-signature">(private) </span>_getInitialState<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>A helper function to test whether segwit is active at any
given time. Since segwit affects almost all of bitcoin, it
is one deployment that needs to be checked frequently.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2328">line 2328</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_preload"><span class="type-signature">(private) </span>_preload<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Stream headers from electrum.org for quickly
preloading the chain. Electrum.org stores
headers in the standard block header format,
but they do not store chainwork, so we have
to calculate it ourselves.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line279">line 279</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_reorganize"><span class="type-signature">(private) </span>_reorganize<span class="signature">(entry, block, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Reorganize the blockchain (connect and disconnect inputs).
Called when a competing chain with a higher chainwork
is received.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>The competing chain's tip.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>The being being added.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line984">line 984</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_setBestChain"><span class="type-signature">(private) </span>_setBestChain<span class="signature">(entry, block, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set the best chain. This is called on every valid block
that comes in. It may add and connect the block (main chain),
save the block without connection (alternate chain), or
reorganize the chain (a higher fork).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1173">line 1173</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_verify"><span class="type-signature">(private) </span>_verify<span class="signature">(block, entry, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Contextual verification for a block, including
version deployments (IsSuperMajority), versionbits,
coinbase height, finality checks.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns
[<a href="VerifyError.html">VerifyError</a>, <a href="global.html#VerifyFlags">VerifyFlags</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line466">line 466</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_verifyContext"><span class="type-signature">(private) </span>_verifyContext<span class="signature">(block, entry, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Perform all necessary contextual verification on a block.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line434">line 434</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="add"><span class="type-signature"></span>add<span class="signature">(block, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Add a block to the chain, perform all necessary verification.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>
|

<span class="param-type"><a href="CompactBlock.html">CompactBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [<a href="VerifyError.html">VerifyError</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1323">line 1323</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="byTime"><span class="type-signature"></span>byTime<span class="signature">(ts, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Find a block entry by timestamp.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>Timestamp.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, <a href="ChainBlock.html">ChainBlock</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1715">line 1715</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="checkFinal"><span class="type-signature"></span>checkFinal<span class="signature">(prev, tx, flags, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Check transaction finality, taking into account MEDIAN_TIME_PAST
if it is present in the lock flags.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous chain entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tx</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TX.html">TX</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#LockFlags">LockFlags</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2373">line 2373</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="checkLocks"><span class="type-signature"></span>checkLocks<span class="signature">(tx, flags, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Verify sequence locks.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tx</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TX.html">TX</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#LockFlags">LockFlags</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2483">line 2483</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Close the chain, wait for the database to close.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line260">line 260</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="computeBlockVersion"><span class="type-signature"></span>computeBlockVersion<span class="signature">(prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Compute the version for a new block (BIP9: versionbits).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous chain entry (usually the tip).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Number].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2289">line 2289</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki</a></li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id="connect"><span class="type-signature"></span>connect<span class="signature">(entry, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Connect an entry to the chain (updates the tip).
This will do contextual-verification on the block
(necessary because we cannot validate the inputs
in alternate chains when they come in).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1113">line 1113</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="disconnect"><span class="type-signature"></span>disconnect<span class="signature">(entry, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Disconnect an entry from the chain (updates the tip).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entry</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1078">line 1078</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="evalLocks"><span class="type-signature"></span>evalLocks<span class="signature">(prev, minHeight, minTime, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Evaluate sequence locks.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2457">line 2457</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="findLocator"><span class="type-signature"></span>findLocator<span class="signature">(locator, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Find a locator. Analagous to bitcoind's <code>FindForkInMainChain()</code>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>locator</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#Hash">Hash</a>></span>


            
            </td>

            

            

            <td class="description last"><p>Hashes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, <a href="global.html#Hash">Hash</a>] (the
hash of the latest known block).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2086">line 2086</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getCurrentTarget"><span class="type-signature"></span>getCurrentTarget<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate the next target based on the chain tip.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>returns [Error, Number]
(target is in compact/mantissa form).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1973">line 1973</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getEntry"><span class="type-signature"></span>getEntry<span class="signature">(hash/height, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Find the corresponding block entry by hash or height.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash/height</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>
|

<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, <a href="ChainBlock.html">ChainBlock</a>].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1798">line 1798</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getLocator"><span class="type-signature"></span>getLocator<span class="signature">(start<span class="signature-attributes">nullable</span>, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate chain locator (an array of hashes).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>start</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>
|

<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>Height or hash to treat as the tip.
The current tip will be used if not present. Note that this can be a
non-existent hash, which is useful for headers-first locators.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Returns [Error, <a href="global.html#Hash">Hash</a>[]].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1869">line 1869</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getLocks"><span class="type-signature"></span>getLocks<span class="signature">(tx, flags, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the necessary minimum time and height sequence locks for a transaction.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tx</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TX.html">TX</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#LockFlags">LockFlags</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns
[Error, Number(minTime), Number(minHeight)].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2398">line 2398</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getOrphan"><span class="type-signature"></span>getOrphan<span class="signature">(hash)</span><span class="type-signature"> &rarr; {<a href="Block.html">Block</a>|<a href="MerkleBlock.html">MerkleBlock</a>|<a href="CompactBlock.html">CompactBlock</a>}</span></h4>

    



<div class="description">
    <p>Get an orphan block.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1808">line 1808</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>
|

<span class="param-type"><a href="CompactBlock.html">CompactBlock</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getOrphanRoot"><span class="type-signature"></span>getOrphanRoot<span class="signature">(hash)</span><span class="type-signature"> &rarr; (nullable) {Object}</span></h4>

    



<div class="description">
    <p>Calculate the orphan root of the hash (if it is an orphan).
Will also calculate &quot;orphan soil&quot; -- the block needed
in * order to resolve the orphan root.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1948">line 1948</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>root - { root: <a href="global.html#Hash">Hash</a>, soil: <a href="global.html#Hash">Hash</a> }.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getProgress"><span class="type-signature"></span>getProgress<span class="signature">()</span><span class="type-signature"> &rarr; {Number}</span></h4>

    



<div class="description">
    <p>Get the fill percentage.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1848">line 1848</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>percent - Ranges from 0.0 to 1.0.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getState"><span class="type-signature"></span>getState<span class="signature">(prev, id, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get chain entry state for a deployment (BIP9: versionbits).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous chain entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Deployment id.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Number].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2138">line 2138</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki</a></li>
        </ul>
    </dd>
    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>chain.getState(entry, 'witness', callback);</code></pre>



        
            

    

    <h4 class="name" id="getTarget"><span class="type-signature"></span>getTarget<span class="signature">(block, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate the target synchronously. <em>Must</em>
have ancestors pre-allocated.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>block</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>Current block.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>returns [Error, Number]
(target is in compact/mantissa form).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2012">line 2012</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getTargetAsync"><span class="type-signature"></span>getTargetAsync<span class="signature">(prev, prev, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate the target based on the passed-in chain entry.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Block.html">Block</a></span>
|

<span class="param-type"><a href="MerkleBlock.html">MerkleBlock</a></span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>Current block.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>returns [Error, Number]
(target is in compact/mantissa form).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1987">line 1987</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="has"><span class="type-signature"></span>has<span class="signature">(hash, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Test the chain to see if it has a block, orphan, or pending block.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1699">line 1699</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="hasBlock"><span class="type-signature"></span>hasBlock<span class="signature">(hash, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Test the chain to see if it contains a block.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1768">line 1768</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="hasOrphan"><span class="type-signature"></span>hasOrphan<span class="signature">(hash, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Test the chain to see if it contains an orphan.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1778">line 1778</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="hasPending"><span class="type-signature"></span>hasPending<span class="signature">(hash, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Test the chain to see if it contains a pending block in its queue.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Hash">Hash</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Boolean].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1788">line 1788</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="isActive"><span class="type-signature"></span>isActive<span class="signature">(prev, id, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Check whether a versionbits deployment is active (BIP9: versionbits).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous chain entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Deployment id.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns [Error, Number].</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2115">line 2115</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki</a></li>
        </ul>
    </dd>
    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>chain.isActive(entry, 'witness', callback);</code></pre>



        
            

    

    <h4 class="name" id="isBusy"><span class="type-signature"></span>isBusy<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    <p>Test whether the chain is in the process of adding blocks.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1313">line 1313</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isFull"><span class="type-signature"></span>isFull<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    <p>Test the chain to see if it is synced.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1817">line 1817</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isInitial"><span class="type-signature"></span>isInitial<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    <p>Test the chain to see if it is still in the initial
syncing phase. Mimic's bitcoind's <code>IsInitialBlockDownload()</code>
function.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1829">line 1829</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>IsInitalBlockDownload()</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="onFlush"><span class="type-signature"></span>onFlush<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Wait for the chain to flush (finish processing
all of the blocks in its queue).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1304">line 1304</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="open"><span class="type-signature"></span>open<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Open the chain, wait for the database to load.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line247">line 247</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="pruneOrphans"><span class="type-signature"></span>pruneOrphans<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Prune orphans, only keep the orphan with the highest
coinbase height (likely to be the peer's tip).</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1637">line 1637</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="purgeOrphans"><span class="type-signature"></span>purgeOrphans<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Purge any waiting orphans.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1624">line 1624</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="purgePending"><span class="type-signature"></span>purgePending<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Purge any pending blocks in the queue: note that
this call is unpredictable and may screw up the
blockchain sync. It is only used as a last resort
if more than 500mb of pending blocks are in the queue.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1689">line 1689</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">(height, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Reset the chain to the desired height. This
is useful for replaying the blockchain download
for SPV.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1247">line 1247</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="resetTime"><span class="type-signature"></span>resetTime<span class="signature">(ts, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Reset the chain to the desired timestamp (within 2
hours). This is useful for replaying the blockchain
download for SPV.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>Timestamp.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line1278">line 1278</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="retarget"><span class="type-signature"></span>retarget<span class="signature">(prev, first)</span><span class="type-signature"> &rarr; {Number}</span></h4>

    



<div class="description">
    <p>Retarget. This is called when the chain height
hits a retarget diff interval.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prev</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Previous entry.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>first</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ChainBlock.html">ChainBlock</a></span>


            
            </td>

            

            

            <td class="description last"><p>Chain entry from 2 weeks prior.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bcoin_chain.js.html">bcoin/chain.js</a>, <a href="bcoin_chain.js.html#line2054">line 2054</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>target - Target in compact/mantissa form.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bcoin.html">bcoin</a></li><li><a href="module-constants.html">constants</a></li><li><a href="module-ec.html">ec</a></li><li><a href="module-ldb.html">ldb</a></li><li><a href="module-network.html">network</a></li><li><a href="module-profiler.html">profiler</a></li><li><a href="module-request.html">request</a></li><li><a href="module-uri.html">uri</a></li><li><a href="module-utils.html">utils</a></li></ul><h3>Classes</h3><ul><li><a href="AbstractBlock.html">AbstractBlock</a></li><li><a href="Address.html">Address</a></li><li><a href="Block.html">Block</a></li><li><a href="Bloom.html">Bloom</a></li><li><a href="BST.html">BST</a></li><li><a href="BufferReader.html">BufferReader</a></li><li><a href="BufferWriter.html">BufferWriter</a></li><li><a href="Chain.html">Chain</a></li><li><a href="ChainBlock.html">ChainBlock</a></li><li><a href="ChainDB.html">ChainDB</a></li><li><a href="Coin.html">Coin</a></li><li><a href="Coins.html">Coins</a></li><li><a href="CoinView.html">CoinView</a></li><li><a href="CompactBlock.html">CompactBlock</a></li><li><a href="Environment.html">Environment</a></li><li><a href="Framer.html">Framer</a></li><li><a href="Fullnode.html">Fullnode</a></li><li><a href="HD.html">HD</a></li><li><a href="HDPrivateKey.html">HDPrivateKey</a></li><li><a href="HDPublicKey.html">HDPublicKey</a></li><li><a href="Headers.html">Headers</a></li><li><a href="HTTPBase.html">HTTPBase</a></li><li><a href="HTTPClient.html">HTTPClient</a></li><li><a href="HTTPProvider.html">HTTPProvider</a></li><li><a href="HTTPServer.html">HTTPServer</a></li><li><a href="Input.html">Input</a></li><li><a href="KeyPair.html">KeyPair</a></li><li><a href="LoadRequest.html">LoadRequest</a></li><li><a href="Locker.html">Locker</a></li><li><a href="LowlevelUp.html">LowlevelUp</a></li><li><a href="LRU.html">LRU</a></li><li><a href="Master.html">Master</a></li><li><a href="Mempool.html">Mempool</a></li><li><a href="MerkleBlock.html">MerkleBlock</a></li><li><a href="Miner.html">Miner</a></li><li><a href="MinerBlock.html">MinerBlock</a></li><li><a href="Mnemonic.html">Mnemonic</a></li><li><a href="module.exports-Framer.html">Framer</a></li><li><a href="module.exports-Parser.html">Parser</a></li><li><a href="MTX.html">MTX</a></li><li><a href="Node.html">Node</a></li><li><a href="Output.html">Output</a></li><li><a href="Parser.html">Parser</a></li><li><a href="Peer.html">Peer</a></li><li><a href="Pool.html">Pool</a></li><li><a href="Profile.html">Profile</a></li><li><a href="Provider.html">Provider</a></li><li><a href="Script.html">Script</a></li><li><a href="ScriptError.html">ScriptError</a></li><li><a href="Snapshot.html">Snapshot</a></li><li><a href="SPVNode.html">SPVNode</a></li><li><a href="Stack.html">Stack</a></li><li><a href="TimeData.html">TimeData</a></li><li><a href="TX.html">TX</a></li><li><a href="TXDB.html">TXDB</a></li><li><a href="VerifyError.html">VerifyError</a></li><li><a href="Wallet.html">Wallet</a></li><li><a href="WalletDB.html">WalletDB</a></li><li><a href="Witness.html">Witness</a></li><li><a href="Worker.html">Worker</a></li><li><a href="Workers.html">Workers</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sat May 07 2016 04:13:56 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>